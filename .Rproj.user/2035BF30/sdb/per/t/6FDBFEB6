{
    "collab_server" : "",
    "contents" : "all_as_buffs <- FALSE\ncat_available_at_buffer <- FALSE\nshow_cov <- FALSE\n# Input: skillgrp.txt\n# Output: skillgrp output.txt\n# \nlibrary(dplyr)\nlibrary(data.table)\nlibrary(stringr)\n\n\ngrp <- data.table(read.table(\"skillgrp.txt\", header = T, sep = '\\t', quote = \"\"))\nname <- data.table(read.table(\"skillname.txt\", header = T, sep = '\\t', quote = \"\")) %>% select(id, level, name)\nmerged <- data.table(right_join(grp, name, by = c('skill_id' = 'id', 'skill_level' = 'level')) %>% arrange(skill_id, skill_level))\nname <- data.table(read.table(\"skillname.txt\", header = T, sep = '\\t', quote = \"\"))\nsetkey(merged, skill_id, skill_level)\n\n# flip all buffs <-> debuff\nmerged[,extra_eff := as.numeric(!extra_eff)]\nif(all_as_buffs) merged[,extra_eff := 0]\n\n# keep important buffs as buffs.\nbuff_to_stay_buffs <- c(\n  'Noblesse Blessing', 'Spell Force', 'Invocation'\n  , 'Salvation', 'Soul of the Phoenix', 'Celestial Shield', 'Flames of Invincibility', 'Sonic Barrier', 'Force Barrier'\n  ,'Ultimate Evasion', 'Ultimate Defense', 'Vengeance',  'Touch of Life'\n  #, 'Physical Mirror', 'Magical Mirror'\n  #, 'Aura Flare'\n  #,'Arcane Agility', 'Arcane Wisdom', 'Riposte Stance', 'Parry Stance', 'Transfer Pain','Arcane Power'\n  \n  ,'Blessing of Protection','Lesser Healing Potion','Healing Potion','Greater Healing Potion', 'Greater Heal', 'Greater Group Heal'\n  ,'Dash','Mirage','Stealth', 'Counterattack', 'Dodge', 'Blinding Blow'\n  ,'Angelic Icon', 'Zealot', 'Frenzy', 'Guts'\n  ,'Duelist Spirit', 'War Cry', 'Rage', 'Focus Death', 'Focus Chance', 'Focus Power',  'Dead Eye',  'Rapid Fire','Snipe'\n  ,'Wolf Spirit Totem', 'Bear Spirit Totem', 'Puma Spirit Totem', 'Ogre Spirit Totem', 'Rabbit Spirit Totem', 'Bison Spirit Totem', 'Hawk Spirit Totem','Force Meditation'\n  ,'Detect Animal Weakness', 'Detect Plant Weakness', 'Detect Beast Weakness', 'Eye of Slayer', 'Eye of Hunter'\n  ,'Lionheart' \n  #,'Battle Roar', 'Thrill Fight'\n  #,'Vicious Stance', 'War Frenzy', 'Accuracy', 'Focus Attack', 'Polearm Accuracy', 'Silent Move', 'Fake Death', 'Guard Stance', 'Soul Guard', 'Soul Cry','Focus Skill Mastery'\n  #,'Rapid Shot', 'Deflect Arrow', 'Majesty'\n  \n  , #, # shitty cat, shitty horse\n  ,'AntiBuff-Shield','Block Buff'\n  ,'Fear', 'Mass Fear', 'Punch of Doom'\n)\nif (cat_available_at_buffer){\n  buff_to_stay_buffs <- c(buff_to_stay_buffs,'Blessing of Seraphim') # mp regen horse\n  #buff_to_stay_buffs <- c(buff_to_stay_buffs,'Gift of Queen') # p.atk cat\n} else {\n  buff_to_stay_buffs <- c(buff_to_stay_buffs, 'Gift of Seraphim', 'Blessing of Queen')\n}\nif (show_cov){\n  buff_to_stay_buffs <- c(buff_to_stay_buffs,'Chant of Victory', 'Prophecy of Water', 'Prophecy of Fire', 'Prophecy of Wind', \"Victory of Pa'agrio\", \"Magnus\\' Chant\")\n}\n\nmerged[merged$name %in% buff_to_stay_buffs,]$extra_eff <- 0 # merged[merged$name %in% buff_to_stay_buffs,] %>% select(extra_eff, name)\nrm(buff_to_stay_buffs)\n### HS debuff icons and and casting animations.\nmerged[name == 'Hot Springs Rheumatism' & skill_level == 4, icon_name := 'icon.skill1077 '] # Focus icon\nmerged[name == 'Hot Springs Rheumatism' & skill_level == 4, desc := 'skill.mu.4325']        # Focus animation\nmerged[name == 'Hot Springs Rheumatism' & skill_level != 4, desc := 'skill.sa.1007']        # Chant of ... animation\n\nmerged[name == 'Hot Springs Cholera' & skill_level == 4, icon_name := 'icon.skill1240']     # Guidance icon\nmerged[name == 'Hot Springs Cholera' & skill_level == 4, desc := 'skill.sub.1240']          # Guidance animation\nmerged[name == 'Hot Springs Cholera' & skill_level != 4, desc := 'skill.sa.1007']           # Chant of ... animation\n\nmerged[name == 'Hot Springs Flu' & skill_level == 4, icon_name := 'icon.skill1086']         # Haste icon\nmerged[name == 'Hot Springs Flu' & skill_level == 4, desc := 'skill.su.1086']               # Haste animation\nmerged[name == 'Hot Springs Flu' & skill_level != 4, desc := 'skill.sa.1007']               # Chant of ... animation\n\nmerged[name == 'Hot Spring Malaria' & skill_level == 4, icon_name := 'icon.skill1085']     # Acumen icon\nmerged[name == 'Hot Spring Malaria' & skill_level == 4, desc := 'skill.su.1085']           # Acumen animation\nmerged[name == 'Hot Spring Malaria' & skill_level != 4, desc := 'skill.sa.1007']           # Chant of ... animation\n\nmerged[name %in% c('Hot Springs Rheumatism', 'Hot Springs Cholera', 'Hot Springs Flu', 'Hot Spring Malaria') & skill_level == 4, extra_eff := 0] # 4lv => bufai\nmerged[name %in% c('Hot Springs Rheumatism', 'Hot Springs Cholera', 'Hot Springs Flu', 'Hot Spring Malaria') & skill_level != 4, extra_eff := 1] # ne 4lv => debufai\n\n# Skill animation change\nanimation <- list(  avatar = 'skill.mo.121'\n                    , none = '')\nmerged[name == 'Major Group Heal', desc := animation$avatar]\nmerged[name == 'Major Heal', desc := animation$avatar]\nmerged[name == 'Greater Battle Heal', desc := animation$avatar]\nmerged[name == \"The Honor of Pa'agrio\", desc := animation$avatar]\nmerged[name == 'Seal of Gloom', desc := animation$none]\nmerged[name == 'Seal of Mirage', desc := animation$none]\nmerged[name == 'Seal of Chaos', desc := animation$none]\nmerged[name == 'Seal of Scourge', desc := animation$none]\nmerged[name == 'Seal of Flame', desc := animation$none]\nmerged[name == 'Aura Flare', desc := 'skill.el.1172'] # aura burn animation\n\nmerged[name == 'Guts', desc := 'skill.hero.395'] # Hero ud animation\nmerged[name == 'Frenzy', desc := 'skill.mu.4365']             # Hero bers animation\nmerged[name == 'Bison Spirit Totem', desc := 'skill.mu.4365'] # Hero bers animation\nmerged[name == 'Snipe', desc := 'skill.mu.4365']              # Hero bers animation\nmerged[name == 'Zealot', desc := 'skill.hero.396'] # Angelic Icon animation\n\nmerged[name == 'Item Skill: Celestial Shield', desc := 'skill.moment.443'] # Celestial shield animation\nmerged[name == 'Sonic Barrier', desc := 'skill.moment.443'] # Celestial shield animation\nmerged[name == 'Force Barrier', desc := 'skill.moment.443'] # Celestial shield animation\nmerged[grep('Refresh', name), desc := 'skill.ph.363'] # Song of champion animation\nrm(animation)\n\n## Augmentu ikonos\nmerged[grep('Item Skill: ', name), extra_eff := 0] # visi augmentai - bufai.\n\n### buff tipo augmentu ikonos:\nmerged[name == 'Item Skill: Duel Might',      icon_name := 'icon.skill0297'] # Duelist Spirit\nmerged[name == 'Item Skill: Empower',         icon_name := 'icon.skill1059'] # Greater Empower icon\nmerged[name == 'Item Skill: Wild Magic',      icon_name := 'icon.skill1303'] # Wild Magic icon\nmerged[name == 'Item Skill: Shield',          icon_name := 'icon.skill1040']\nmerged[name == 'Item Skill: Magic Barrier',   icon_name := 'icon.skill1036']\nmerged[name == 'Item Skill: Stealth',         icon_name := 'icon.skill0411']\nmerged[name == 'Item Skill: Spell Refresh',   icon_name := 'icon.skill0164'] # Quick Recovery icon\nmerged[name == 'Item Skill: Skill Refresh',   icon_name := 'icon.skill0364'] # Song of Champion icon\nmerged[name == 'Item Skill: Refresh',         icon_name := 'icon.skill0349'] # Song of Renewal icon\nmerged[name == 'Item Skill: Might',           icon_name := 'icon.skill1068'] # Might\nmerged[name == 'Item Skill: Focus',           icon_name := 'icon.skill1077'] # Focus\nmerged[name == 'Item Skill: Blessed Body',    icon_name := 'icon.skill1045']\nmerged[name == 'Item Skill: Battle Roar',     icon_name := 'icon.skill0121']\nmerged[name == 'Item Skill: Prayer',          icon_name := 'icon.skill1307']\nmerged[name == 'Item Skill: Blessed Soul',    icon_name := 'icon.skill1048']\nmerged[name == 'Item Skill: Mana Gain',       icon_name := 'icon.skill3080']\nmerged[name == 'Item Skill: Agility',         icon_name := 'icon.skill1087']\nmerged[name == 'Item Skill: Guidance',        icon_name := 'icon.skill1240']\nmerged[name == 'Item Skill: Vampiric Rage',   icon_name := 'icon.skill1268']\nmerged[name == 'Item Skill: Reflect Damage',  icon_name := 'icon.skill0086']\nmerged[name == 'Item Skill: Weight Limit',    icon_name := 'icon.skill0150']\n### debuff tipo augmentu ikonos:\nmerged[name == 'Item Skill: Slow',            icon_name := 'icon.skill1160']\nmerged[name == 'Item Skill: Winter',          icon_name := 'icon.skill1206']\nmerged[name == 'Item Skill: Stun',            icon_name := 'icon.skill0092']\nmerged[name == 'Item Skill: Hold',            icon_name := 'icon.skill1201']\nmerged[name == 'Item Skill: Sleep',           icon_name := 'icon.skill1069']\nmerged[name == 'Item Skill: Paralyze',        icon_name := 'icon.skill1170']\nmerged[name == 'Item Skill: Medusa',          icon_name := 'icon.skill0367']\nmerged[name == 'Item Skill: Fear',            icon_name := 'icon.skill1169']\nmerged[name == 'Item Skill: Poison',          icon_name := 'icon.skill1168']\nmerged[name == 'Item Skill: Bleed',           icon_name := 'icon.skill0096']\nmerged[name == 'Item Skill: Silence',         icon_name := 'icon.skill1064']\nmerged[name == 'Item Skill: Doom',            icon_name := 'icon.skill1336']\nmerged[name == 'Item Skill: Duel Weakness',   icon_name := 'icon.skill0116']\n\n### mobu apibudinimo skilu ikonos\n# merged[name == 'Extremely Weak P. Atk.',    icon_name := ''] \nmerged[name == 'Very Weak P. Atk.',         icon_name := 'icon.skill0298'] # Rabit Spirit Totem\nmerged[name == 'Weak P. Atk.',              icon_name := 'icon.skill0115'] # Power Break\nmerged[name == 'Slightly Weak P. Atk.',     icon_name := 'icon.skill1164'] # Curse Weakness\n# merged[name == 'Average P. Atk.',         icon_name := ''] # stays the same.\nmerged[name == 'Slightly Strong P. Atk.',   icon_name := 'icon.skill0271'] # Dance of Warrior\nmerged[name == 'Strong P. Atk.',            icon_name := 'icon.skill1068'] # Might icon\nmerged[name == 'Very Strong P. Atk.',       icon_name := 'icon.skill1388'] # Greater Might icon\nmerged[name == 'Extremely Strong P. Atk.',  icon_name := 'icon.skill0176'] # Frenzy icon\n# merged[name == 'Ultra Strong P. Atk.',      icon_name := '']\n\n\n# merged[name == 'Extremely Weak M. Atk.',      icon_name := '']\nmerged[name == 'Very Weak M. Atk.',           icon_name := 'icon.skill1248'] # Seal of Suspension\nmerged[name == 'Weak M. Atk.',                icon_name := 'icon.skill1064'] # Silence\nmerged[name == 'Slightly Weak M. Atk.',       icon_name := 'icon.skill1351'] # Mage Bane\n# merged[name == 'Average M. Atk.',    icon_name := ''] # stays the same\nmerged[name == 'Slightly Strong M. Atk.',     icon_name := 'icon.skill0273'] # Dance of Mystic\nmerged[name == 'Strong M. Atk.',              icon_name := 'icon.skill0378'] # Empower\nmerged[name == 'Very Strong M. Atk.',         icon_name := 'icon.skill1059'] # The Soul of Pa'agrio\n# merged[name == 'Extremely Strong M. Atk.',    icon_name := 'icon.etc_herb_blue_i00'] # M. Atk herb\n# merged[name == 'Ultra Strong M. Atk.',    icon_name := '']\n\n\n# merged[name == 'Extremely Weak P. Def.',    icon_name := '']\nmerged[name == 'Very Weak P. Def.',        icon_name := 'icon.armor_t55_u_i00'] # Devotion Set\nmerged[name == 'Weak P. Def.',             icon_name := 'icon.skill0362'] # Armor Crush\nmerged[name == 'Slightly Weak P. Def.',    icon_name := 'icon.skill0122'] # Hex\n# merged[name == 'Average P. Def.',    icon_name := '']\nmerged[name == 'Slightly Strong P. Def.',  icon_name := 'icon.skill1040'] # Shield\nmerged[name == 'Strong P. Def.',           icon_name := 'icon.skill1389'] \nmerged[name == 'Very Strong P. Def.',      icon_name := 'icon.skill1283'] # Soul Guard\nmerged[name == 'Extremely Strong P. Def.', icon_name := 'icon.skill0139'] # Guts\n# merged[name == 'Ultra Strong P. Def.',    icon_name := '']\n\n# merged[name == 'Extremely Weak M. Def.',    icon_name := '']\nmerged[name == 'Very Weak M. Def.',         icon_name := 'icon.skill0361'] # Shock Blast\nmerged[name == 'Weak M. Def.',              icon_name := 'icon.skill1263'] # Curse Gloom\nmerged[name == 'Slightly Weak M. Def.',     icon_name := 'icon.skill1062'] # Berserker Spirit\n# merged[name == 'Average M. Def.',    icon_name := '']\nmerged[name == 'Slightly Strong M. Def.',   icon_name := 'icon.skill0146'] # Anti Magic\nmerged[name == 'Strong M. Def.',            icon_name := 'icon.skill1036'] # Magic Barrier\nmerged[name == 'Very Strong M. Def.',       icon_name := 'icon.skill1352'] # Elemental Protection\nmerged[name == 'Extremely Strong M. Def.',  icon_name := 'icon.skill0368'] # Vengeance\n# merged[name == 'Ultra Strong M. Def.',    icon_name := '']\n\nmerged[skill_id == 4085, icon_name := 'icon.skill1242'] # skill <critical power>.icon = <death whisper>.icon\nmerged[skill_id == 4086, icon_name := 'icon.skill1077'] # skill <critical chance>.icon = <focus>.icon\nmerged[skill_id == 4275, icon_name := 'icon.skill1043'] # skill <Sacred Attack Weak Point>.icon = <Holy Weapon>.icon\nmerged[skill_id == 4333, icon_name := 'icon.skill1393'] # skill <Resist Dark Attack>.icon = <Unholy Resistance>.icon\n#merged[skill_id == 4086, icon_name := 'icon.skill1077'] # skill <critical chance>.icon = <focus>.icon\n#merged[skill_id == 4086, icon_name := 'icon.skill1077'] # skill <critical chance>.icon = <focus>.icon\n#merged[skill_id == 4086, icon_name := 'icon.skill1077'] # skill <critical chance>.icon = <focus>.icon\nmerged[skill_id == 4278, icon_name := 'icon.skill0070'] # skill <dark attack>.icon = <Drain Health>.icon\n\n\n# PRP bufu ikonos pakeistos i atitinkamu ol bufu ikonas\nmerged[]\n\nmerged[name == 'Mass Fear' & skill_level == 1]\n\n#   TBD:\n# suvienodint ol ir prp bufu ikonas\n#\n# corect writing to file ? maybe done ?\n\n# skillgrp output.txt\nmerged %>% select(-name) %>%\n  #write.table(file = \"C:\\\\Users\\\\sarun_000\\\\Desktop 3\\\\skillgrp output.txt\", quote = FALSE, col.names = FALSE, row.names = FALSE, sep = '\\t', na = '')\n  write.table(file = \"skillgrp output.txt\", quote = FALSE, col.names = FALSE, row.names = FALSE, sep = '\\t', na = '')\n",
    "created" : 1490273288053.000,
    "dirty" : false,
    "encoding" : "ISO8859-1",
    "folds" : "",
    "hash" : "3021310425",
    "id" : "6FDBFEB6",
    "lastKnownWriteTime" : 1490274408,
    "last_content_update" : 1490274408577,
    "path" : "C:/Users/SarunasG/Google Drive/Projects/R/l2 editor c6/R/Skillgrp Editor.R",
    "project_path" : "R/Skillgrp Editor.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}